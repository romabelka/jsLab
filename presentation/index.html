<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Shower Presentation Engine</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=792, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen.css">
	<link rel="stylesheet" href="style.css">
</head>
<body class="list">
<header class="caption">
	<h1>Роман Якобчук</h1>

	<p>Flux в стилі FRP: єднаємо React і Bacon</p>
</header>
<section class="slide cover" id="Cover">
	<div>
		<h2>Flux в стилі FRP: єднаємо React і Bacon</h2>

		<p><a href="http://roma.if.ua">Роман Якобчук</a></p>
		<img src="pictures/Razmashistyj-vodopad-3176.jpg" alt="">
	</div>
</section>
<section class="slide">
	<div>
		<h2>React</h2>
		<ol>
			<li>Модна, трендова технологія</li>
			<li>Абстрагує від роботи з DOM</li>
			<li>Неймовірно швидка</li>
			<li>Легка в розумінні</li>
			<li class="next"><b>Але це лише View</b></li>
		</ol>
	</div>
</section>
<section class="slide">
	<div>
		<h2>Flux</h2>
		<table class="table-simple">
			<tr>
				<td>
					<div class="arrow"><img src="pictures/arrow.png" alt=""/></div>
				</td>
				<td>
					<div class="roundBox">View</div>
				</td>
				<td>
					<div class="arrow arrow_left"><img src="pictures/arrow.png" alt=""/></div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="roundBox">Action</div>
				</td>
				<td></td>
				<td>
					<div class="roundBox">Store</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="arrow arrow_right"><img src="pictures/arrow.png" alt=""/></div>
				</td>
				<td>
					<div class="roundBox">Dispatcher</div>
				</td>
				<td><div class="arrow arrow_up"><img src="pictures/arrow.png" alt=""/></div></td>
	</tr>
	</table>
	</div>
</section>

<section class="slide">
	<div>
		<h2>Що використаємо?</h2>
		<table>
			<tr>
				<th scope="col"></th>
				<td class="pattern">MVC</td>
				<td class="pattern">FRP</td>
			</tr>
			<tr>
				<td>Популярно</td>
				<td class="pattern">+</td>
				<td class="pattern">-</td>
			</tr>
			<tr>
				<td>Зручна робота з данними</td>
				<td class="pattern">+</td>
				<td class="pattern">-</td>
			</tr>
			<tr>
				<td>Масштабуємо</td>
				<td class="pattern">+</td>
				<td class="pattern">+</td>
			</tr>
			<tr class="next">
				<td>Асинхронність</td>
				<td class="pattern">-</td>
				<td class="pattern">+</td>
			</tr>
			<tr class="next">
				<td>Автоматичне оновлення залежностей</td>
				<td class="pattern">-</td>
				<td class="pattern">+</td>
			</tr>
		</table>
	</div>
</section>

<section class="slide">
	<div>
		<table class="table-simple">
			<tr>
				<td>
					<div class="arrow"><img src="pictures/arrow.png" alt=""/></div>
				</td>
				<td>
					<div class="roundBox">View</div>
				</td>
				<td>
					<div class="arrow arrow_left"><img src="pictures/arrow.png" alt=""/></div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="roundBox">Action</div>
				</td>
				<td></td>
				<td>
					<div class="roundBox flux-mvc">
						<p>MVC</p>
						Store
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="arrow arrow_right"><img src="pictures/arrow.png" alt=""/></div>
				</td>
				<td>
					<div class="roundBox flux-frp">
						<p>FRP</p>
						Dispatcher
					</div>
				</td>
				<td>
					<div class="arrow arrow_up"><img src="pictures/arrow.png" alt=""/></div>
				</td>
			</tr>
		</table>
	</div>
</section>

<section class="slide">
	<div>
		<h2>Коли НЕ використовувати FRP</h2>
		<ul>
			<li class="next">ви працюєте з данними що рідко змінюються</li>
			<li class="next">в команді не нема кому підтримувати</li>
			<li class="next">це явний оверхед</li>
		</ul>
	</div>
</section>
<section class="slide">
	<div>
		<h2>Коли використовувати FRP</h2>
		<ul>
			<li class="next">багато залежних станів</li>
			<li class="next">є декілька джерел надходження сигналів</li>
			<li class="next">є жорстка асинхронність</li>
		</ul>
	</div>
</section>
<section class="slide">
	<div>
		<h2>Що треба пам'ятати про FRP</h2>
		<ul>
			<li class="next">Все зберігається в стрімах</li>
			<li class="next">Все іммутабельно</li>
		</ul>
	</div>
</section>
<section class="slide">
	<div>
		<h2>Бібліотеки JS</h2>
		<ul>
			<li><a href="https://baconjs.github.io">Bacon.js</a></li>
			<li><a href="https://github.com/Reactive-Extensions/RxJS">RxJS</a></li>
			<li><a href="https://github.com/pozadi/kefir">Kefir.js</a></li>
			<li><a href="http://www.scala-js.org ">Scala.js</a></li>
		</ul>
	</div>
</section>

<section class="slide">
	<div>
		<h2>Code Samples</h2>
		<pre>
			<code><span class="reg">var</span> targetText = <span class="var">Bacon</span></code>
			<code class="next">   .fromEventTarget(<span class="reg">document</span>, <span class="str">'mousemove'</span>)</code>
			<code class="next">   .filter(<span class="var">targetContainsText</span>)</code>
			<code class="next">   .map(<span class="var">getTextFromEvent</span>)</code>
			<code class="next">   .skipDuplicates();</code>
		</pre>
	</div>
</section>
<section class="slide">
	<div>
		<h2>Асинхронність</h2>
        <p class="next">Чи відноситься остання відповідь до останнього запиту?</p>
		<pre>
			<code class="next"><span class="reg">var</span> responses = <span class="var">targetText</span></code>
			<code class="next">    .flatMapLatest(<span class="var">postText</span>);</code>
			<code class="next"><span class="var">responses</span>.onValue(<span class="var">processResponse</span>);</code>
		</pre>
	</div>
</section>

<section class="slide">
	<div>
		<h2>Додаємо джерело подій</h2>
		<pre>
			<code class="next"><span class="reg">var</span> buttonPresses = <span class="var">buttons</span></code>
			<code class="next">    .asEventStream(<span class="str">'click'</span>)</code>
			<code class="next">    .map(<span class="var">processButtonClick</span>);</code>
			<code class="next"><span class="reg">var</span> responses = <span class="var">targetText</span></code>
			<code class="next">    .merge(<span class="var">buttonPresses</span>)</code>
			<code class="next">    .flatMapLatest(<span class="var">postText</span>);</code>
		</pre>
	</div>
</section>

<section class="slide">
    <div>
        <h2>React</h2>
        <table class="table-centre">
            <tr>
                <td>Props</td>
                <td>State</td>
            </tr>
            <tr>
                <td><img src="pictures/tree.jpg" alt=""/></td>
                <td>поточний стан компонента</td>
            </tr>
        </table>
        <figure>
            <blockquote>
                <p>“Every time your data changes, it’s like hitting refresh in a server rendered app.”</p>
            </blockquote>
            <figcaption>Pete Hunt, Facebook</figcaption>
        </figure>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Data Flow</h2>
        <ul>
            <li>Проблеми старого плеєра</li>
            <li>Неаявний стан</li>
            <li>Вибір технології</li>
        </ul>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Архітектура Бандури</h2>
        <h3>View</h3>
        <ul>
            <li>Сам плеєр</li>
            <li class="next">Progress-bar</li>
            <li class="next">Volume-bar</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Архітектура Бандури</h2>
        <h3>Action</h3>
        <ul>
            <li>UI</li>
            <li>Внутрішні івенти(елементи логіки)</li>
            <li>Обогртка для розробників</li>
            <li>Дистанційне керуваня(веб-сокет)</li>
            <li>Пряме підключення до стрімів</li>
        </ul>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Dispatcher/Store</h2>
        <pre>
            <code><span class="var">dispatcherAPI</span> =</code>
            <code>    collections : <span class="reg">new</span> Bacon.Bus()</code>
            <code>    ...</code>
            <code>#------------- </code>
            <code><span class="var">playlistsCollection</span> = <span class="var">collections</span></code>
            <code>    .scan(<span class="reg">new</span> PLCollection(), (<span class="var">collection, ev</span>) -></code>
            <code>        <span class="var">collection</span>[<span class="var">ev</span>.action](<span class="var">ev</span>.playlist)</code>
            <code>        ...</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Оновлюємо View</h2>
        <pre>
            <code><span class="var">playlistsCollection</span>.onValue (<span class="var">PLC</span>) -></code>
            <code>    <span class="var">UI</span>.player.setProps PLCollection: <span class="var">PLC</span></code>
            <code>    <span class="var">UI</span>.progressbar.setProps currentTrack: ...</code>
        </pre>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Додамо джерело сигналу</h2>
        <pre>
            <code><span class="var">remoteActions</span> = Bacon.fromEventTarget <span class="var">ws</span> , <span class="str">'message'</span>, <span class="ref">...</span></code>
            <code class="next"><span class="var">controls</span>.plug(<span class="var">remoteActions</span>)</code>
        </pre>
    </div>
</section>
<section class="slide cover">
    <div>
        <img src="pictures/Razmashistyj-vodopad-3176.jpg" alt="">
    </div>
</section>
<section class="slide">
    <div>
        <h2>Роман Якобчук</h2>
        <ul>
            <li><a href="http://roma.if.ua">http://roma.if.ua</a></li>
            <li><span>Skype: </span>r.iakobchuk</li>
            <li><span>Email: </span>r.iakobchuk@gmail.com</li>
        </ul>
        <h3>Links</h3>
        <a href="https://github.com/romabelka/jsLab">https://github.com/romabelka/jsLab</a>
        <a href="https://github.com/romabelka/bandura.js">https://github.com/romabelka/bandura.js</a>
        <a href="http://www.reactivemanifesto.org ">http://www.reactivemanifesto.org </a>
    </div>
</section>
<div class="progress">
	<div></div>
</div>
<script src="node_modules/shower-core/shower.min.js"></script>
</body>
</html>
